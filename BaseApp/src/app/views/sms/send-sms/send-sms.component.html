<div class="card">
  <div class="card-header">
    <i class="fa fa-comments mr-2" aria-hidden="true"></i>Send SMS
  </div>
  <div class="card-body">
    <div class="row">
      <div class="col-2">
        <p class="h6">Recipient Type<span class="float-right">:</span></p>
      </div>
      <div class="col-4">
        <div class="btn-group" role="group" aria-label="Basic example">
          <button type="button" class="btn btn-outline-primary shadow-none" [ngClass]="{'active':searchType == 'Individual'}" id="Individual"
            (click)="searchType = 'Individual';">Individual</button>
          <button type="button" class="btn btn-outline-primary shadow-none" [ngClass]="{'active':searchType == 'Group'}" id="GroupSms"
            (click)="searchType = 'Group';">Group</button>
        </div>
      </div>
      <div class="offset-3 col-3">
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">Choose
          Template</button>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-2">
        <p class="h6">Recipients<span class="float-right">:</span></p>
      </div>
      <div class="col-8">
        <tag-input *ngIf="searchType == 'Individual'" [placeholder]="'Add a new Individual'"
          (onAdd)="onSelect($event)" [onTextChangeDebounce]="500" [theme]="'dark'"
          [secondaryPlaceholder]="'Search Individual'" [onlyFromAutocomplete]="true" [(ngModel)]="selectedIndividuals">
          <ng-template let-item="item">
            {{ item.name}}&lt;{{item.phoneNumber}}&gt;
            <span aria-hidden="true" (click)="removeIndividual(item);" class="font-weight-bold">X</span>
          </ng-template>
          <tag-input-dropdown [autocompleteObservable]="requestAutoCompleteIndividual"
            [displayBy]="'nameAndPhoneNumber'" [identifyBy]="'userId'">
            <ng-template let-item="item" let-index="index">
              {{ item.name}}-{{item.phoneNumber}}
            </ng-template>
          </tag-input-dropdown>
        </tag-input>
        <tag-input *ngIf="searchType == 'Group'" [placeholder]="'Add a new Group'" (onAdd)="onSelect($event)"
          [onTextChangeDebounce]="500" [theme]="'dark'" [secondaryPlaceholder]="'Search Group'"
          [onlyFromAutocomplete]="true" [(ngModel)]="selectedGroups">
          <ng-template let-item="item">
            {{ item.groupName}}&nbsp;<i class="fa fa-users" aria-hidden="true"></i>&nbsp;{{item.users.length}}
            <span aria-hidden="true" (click)="removeGroup(item);" class="font-weight-bold">X</span>
          </ng-template>
          <tag-input-dropdown [autocompleteObservable]="requestAutoCompleteGroup" [displayBy]="'groupName'"
            [identifyBy]="'groupId'">
            <ng-template let-item="item" let-index="index">
              {{ item.groupName}}&nbsp;<i class="fa fa-users" aria-hidden="true"></i>&nbsp;{{item.users}}
            </ng-template>
          </tag-input-dropdown>
        </tag-input>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-2">
        <p class="h6">Message<span class="float-right">:</span></p>
      </div>
      <div class="col-6">
        <textarea name="message" id="message" [(ngModel)]="message"  cols="85" rows="5"></textarea>
      </div>
    </div>
    <div class="row mt-3">
      <div class="offset-2 col-6">
        <button type="button" class="btn btn-info float-left" (click)="reset();">Reset</button>
        <button type="button" class="btn btn-primary float-right" (click)="sendSMS();">Send</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Available Templates</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body list-group list-group-flush p-0">
        <div class=" text-center">
          <button type="button" class="list-group-item list-group-item-action" data-dismiss="modal" (click)="patchTemplete();">
            Cras justo odio
          </button>
          <button type="button" class="list-group-item list-group-item-action" data-dismiss="modal">Dapibus ac facilisis
            in</button>
          <button type="button" class="list-group-item list-group-item-action" data-dismiss="modal">Morbi leo
            risus</button>
          <button type="button" class="list-group-item list-group-item-action" data-dismiss="modal">Porta ac consectetur
            ac</button>
          <button type="button" class="list-group-item list-group-item-action" data-dismiss="modal">Vestibulum at
            eros</button>
          <button type="button" class="list-group-item list-group-item-action" data-dismiss="modal">
            Cras justo odio
          </button>
          <button type="button" class="list-group-item list-group-item-action" data-dismiss="modal">Dapibus ac facilisis
            in</button>
          <button type="button" class="list-group-item list-group-item-action" data-dismiss="modal">Morbi leo
            risus</button>
        </div>
      </div>
    </div>
  </div>
</div>